{
  "definitions": {
    "action": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/castable"
        },
        {
          "$ref": "#/definitions/cardAttributes"
        }
      ],
      "properties": {
        "effect": {
          "$ref": "effectschema.json"
        },
        "cardType": {
          "type": "string",
          "pattern": "^action$"
        }
      },
      "required": ["effect","cardType"]
    },
    "entity": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/castable"
        },
        {
          "$ref": "#/definitions/cardAttributes"
        },
        {
          "$ref": "#/definitions/permanent"
        }
      ],
      "properties": {
        "attack": {
          "$ref": "propertyschema.json#/attack"
        },
        "cardType": {
          "type": "string",
          "pattern": "^entity$"
        }
      },
      "required": ["attack","cardType"]
    },
    "field": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/castable"
        },
        {
          "$ref": "#/definitions/cardAttributes"
        },
        {
          "$ref": "#/definitions/permanent"
        }
      ],
      "properties": {
        "cardType": {
          "type": "string",
          "pattern": "^field$"
        }
      },
      "required": ["cardType"]
    },
    "headquarter": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/cardAttributes"
        },
        {
          "$ref": "#/definitions/permanent"
        }
      ],
      "properties": {
        "uniqueName": {
          "$ref": "propertyschema.json#/uniqueName"
        },
        "cardType": {
          "type": "string",
          "pattern": "^field$"
        }
      },
      "required": ["uniqueName","cardType"]
    },
    "cardAttributes": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "propertyschema.json#/name"
        },
        "tags": {
          "$ref": "propertyschema.json#/tag"
        },
        "text": {
          "$ref": "propertyschema.json#/text"
        }
      },
      "required": ["name","tags","text"]
    },
    "castable": {
      "type": "object",
      "properties": {
        "cost": {
          "type": "array",
          "items": {
            "$ref": "costschema.json"
          }
        },
        "castSpeed": {
          "$ref": "propertyschema.json#/speedModifier"
        }
      },
      "required": [
        "cost",
        "castSpeed"
      ]
    },
    "permanent": {
      "type": "object",
      "properties": {
        "ability": {
          "$ref": "abilityschema.json"
        },
        "abilitySpeed": {
          "$ref": "propertyschema.json#/speedModifier"
        },
        "health": {
          "$ref": "propertyschema.json#/health"
        }
      },
      "required": [
        "ability",
        "abilitySpeed",
        "health"
      ]
    }
  },
  "anyOf": [
    {
      "$ref": "#/definitions/action"
    },
    {
      "$ref": "#/definitions/entity"
    },
    {
      "$ref": "#/definitions/field"
    },
    {
      "$ref": "#/definitions/headquarter"
    }
  ]
}