{
  "definitions": {
    "action": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/castable"
        },
        {
          "$ref": "#/definitions/cardAttributes"
        }
      ],
      "properties": {
        "Effect": {
          "$ref": "effectSchema.json"
        },
        "CardType": {
          "type": "string",
          "pattern": "^action$"
        }
      },
      "required": ["Effect","CardType"]
    },
    "entity": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/castable"
        },
        {
          "$ref": "#/definitions/cardAttributes"
        },
        {
          "$ref": "#/definitions/permanent"
        }
      ],
      "properties": {
        "Attack": {
          "$ref": "propertySchema.json#/attack"
        },
        "CardType": {
          "type": "string",
          "pattern": "^entity$"
        }
      },
      "required": ["Attack","CardType"]
    },
    "field": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/castable"
        },
        {
          "$ref": "#/definitions/cardAttributes"
        },
        {
          "$ref": "#/definitions/permanent"
        }
      ],
      "properties": {
        "CardType": {
          "type": "string",
          "pattern": "^field$"
        }
      },
      "required": ["CardType"]
    },
    "headquarter": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/cardAttributes"
        },
        {
          "$ref": "#/definitions/permanent"
        }
      ],
      "properties": {
        "UniqueName": {
          "$ref": "propertySchema.json#/uniqueName"
        },
        "CardType": {
          "type": "string",
          "pattern": "^field$"
        }
      },
      "required": ["UniqueName","CardType"]
    },
    "cardAttributes": {
      "type": "object",
      "properties": {
        "Name": {
          "$ref": "propertySchema.json#/name"
        },
        "Tag": {
          "$ref": "propertySchema.json#/tag"
        },
        "Text": {
          "$ref": "propertySchema.json#/text"
        }
      },
      "required": ["Name","Tag","Text"]
    },
    "castable": {
      "type": "object",
      "properties": {
        "Cost": {
          "type": "array",
          "items": {
            "$ref": "ressourceSchema.json"
          }
        },
        "CastSpeed": {
          "$ref": "propertySchema.json#/speedModifier"
        }
      },
      "required": ["Cost","CastSpeed"]
    },
    "permanent": {
      "type": "object",
      "properties": {
        "Abilities": {
          "type": "array",
          "items": {
            "$ref": "abilityschema.json"
          }
        },
        "AbilitySpeed": {
          "$ref": "propertySchema.json#/speedModifier"
        },
        "Health": {
          "$ref": "propertySchema.json#/health"
        }
      },
      "required": ["Abilities","AbilitySpeed","Health"]
    }
  },
  "allOf": [
    {
      "if" : {
        "properties": {
          "type": {
            "const": "action"
          }
        }
      },
      "then": {
        "properties": {
          "value": {
            "$ref": "#/definitions/action"
          }
        }
      }
    },
    {
      "if" : {
        "properties": {
          "type": {
            "const": "entity"
          }
        }
      },
      "then": {
        "properties": {
          "value": {
            "$ref": "#/definitions/entity"
          }
        }
      }
    },
    {
      "if" : {
        "properties": {
          "type": {
            "const": "field"
          }
        }
      },
      "then": {
        "properties": {
          "value": {
            "$ref": "#/definitions/field"
          }
        }
      }
    },
    {
      "if" : {
        "properties": {
          "type": {
            "const": "headquarter"
          }
        }
      },
      "then": {
        "properties": {
          "value": {
            "$ref": "#/definitions/headquarter"
          }
        }
      }
    }
  ],
  "properties": {
    "type": {
      "type": "string",
      "enum": ["action","entity","field","headquarter"]
    }
  },
  "required": ["type","value"]
}