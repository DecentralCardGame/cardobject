{
	"definitions": {
		"selectorMode": {
			"type": "string",
			"enum": ["ALL","TARGET","OPPONENTCHOICE"]
		},
		"selectorBasics": {
			"type": "object",
			"properties": {
				"PlayerMode": {
					"$ref": "#/definitions/selectorMode"
				},
				"PlayerCondition": {
					"$ref": "conditionSchema.json#/playerCondition"
				},
				"CardMode": {
					"$ref": "#/definitions/selectorMode"
				},
				"Zone": {
					"$ref": "zoneSchema.json#/dynamicZoneId"
				}
			},
			"required": ["PlayerMode","CardMode","Zone"]
		},
		"actionSelector": {
			"type": "object",
			"properties": {
				"CardCondition": {
					"$ref": "conditionSchema.json#/actionCondition"
				}
			},
			"oneOf": [
				{
					"$ref": "#/definitions/selectorBasics"
				}
			],
			"required": ["CardCondition"]
		},
		"entitySelector": {
			"type": "object",
			"properties": {
				"CardCondition": {
					"$ref": "conditionSchema.json#/entityCondition"
				}
			},
			"oneOf": [
				{
					"$ref": "#/definitions/selectorBasics"
				}
			],
			"required": ["CardCondition"]
		},
		"fieldSelector": {
			"type": "object",
			"properties": {
				"CardCondition": {
					"$ref": "conditionSchema.json#/fieldCondition"
				}
			},
			"oneOf": [
				{
					"$ref": "#/definitions/selectorBasics"
				}
			],
			"required": ["CardCondition"]
		},
		"selfSelector": {
			"type": "object",
			"properties": {
				"Target": {
					"type": "string",
					"const": "THIS"
				}
			},
			"required": ["Target"]
		}
	},
	"selector": {
		"type": "object",
		"allOf": [
			{
				"if": {
					"properties": {
						"Type": {
							"const": "actionSelector"
						}
					}
				},
				"then": {
					"properties": {
						"Value": {
							"$ref": "#/definitions/actionSelector"
						}
					}
				}
			},
			{
				"if": {
					"properties": {
						"Type": {
							"const": "entitySelector"
						}
					}
				},
				"then": {
					"properties": {
						"Value": {
							"$ref": "#/definitions/entitySelector"
						}
					}
				}
			},
			{
				"if": {
					"properties": {
						"Type": {
							"const": "fieldSelector"
						}
					}
				},
				"then": {
					"properties": {
						"Value": {
							"$ref": "#/definitions/fieldSelector"
						}
					}
				}
			},
			{
				"if": {
					"properties": {
						"Type": {
							"const": "selfSelector"
						}
					}
				},
				"then": {
					"properties": {
						"Value": {
							"$ref": "#/definitions/selfSelector"
						}
					}
				}
			}
		],
  		"properties": {
    		"Type": {
      			"type": "string",
      			"enum": ["actionSelector","entitySelector","fieldSelector","selfSelector"]
    		}
  		},
  		"required": ["Type","Value"]
	}
}